create database 'D:\Firebird\voen_data.fdb' user 'SYSDBA' password 'masterkey'; 
commit; 

 
connect 'D:\Firebird\voen_data.fdb' user 'SYSDBA' password 'masterkey';

create table Personal_file (
ID_file integer not null, 
Id_recruit integer not null,
Registr_date date not null
); 
commit; 
create table Delays (
Id_file integer not null,
Id_reason integer not null, 
Delay_date_to date 
); 
commit; 
create table Reasons (
Id_reason integer not null, 
Reason_text varchar(256)
); 
commit; 
create table Recruit (
Id_recruit integer not null,
Name varchar(256) not null, 
Birth_date date not null, 
Registr_place varchar(256), 
Id_mother integer not null, 
Id_father integer not null, 
Id_academic integer not null
); 
commit; 
create table Academic_place (
Id_academic integer not null, 
Name varchar(45), 
Address varchar(256)
); 
commit; 
create table Medical_record (
Id_file integer not null, 
Record_text varchar(256),
Date_day date not null, 
Doctor_Name varchar(256) not null, 
Category varchar (2)
); 
commit; 
create table Mother_info (
Id_mother integer not null, 
Name varchar(256), 
Birth_date date, 
Registr_place varchar(256)
); 
commit; 
create table Father_info (
Id_father integer not null, 
Name varchar(256), 
Birth_date date, 
Registr_place varchar(256)
); 
commit; 
alter table Personal_file add constraint PK_Personal_file primary key(Id_file); 
alter table Delays add constraint PK_Delays primary key(Id_file); 
alter table Reasons add constraint PK_Reasons primary key(Id_reason); 
alter table Recruit add constraint PK_Recruit primary key(Id_recruit); 
alter table Academic_place add constraint PK_Academic_place primary key(Id_academic); 
alter table Medical_record add constraint PK_Medical_record primary key(Id_file); 
alter table Mother_info add constraint PK_Mother_info primary key(Id_mother); 
alter table Father_info add constraint PK_Father_info primary key(Id_father); 
commit; 
alter table Personal_file add constraint FK_Personal_file foreign key (Id_recruit) references Recruit(Id_recruit); 
alter table Recruit add constraint FK_Recruit1 foreign key (Id_father) references Father_info (Id_father);
alter table Recruit add constraint FK_Recruit2 foreign key (Id_mother) references Mother_info (Id_mother);
alter table Recruit add constraint FK_Recruit3 foreign key (Id_academic) references Academic_place (Id_academic);
alter table Delays add constraint FK_Delays1 foreign key (Id_file) references Personal_file (Id_file); 
alter table Delays add constraint FK_Delays2 foreign key (Id_reason) references Reasons (Id_reason); 
alter table Medical_record add constraint FK_Medical_record foreign key (Id_file) references Personal_file (Id_file);
commit; 

create table Activities (
Id_file integer not null, 
Id_activity integer not null, 
Activity_date date
); 
commit; 

create table Kind_activity (
Id_activity integer not null, 
Kind_activity varchar(256)
);
commit;


alter table Activities add constraint PK_Activities primary key(Id_file, Id_activity);
alter table Kind_activity add constraint PK_Kind_activity primary key(Id_activity);

alter table Activities add constraint FK_Activities1 foreign key (Id_file) references Personal_file(Id_file);
alter table Activities add constraint FK_Activities2 foreign key (Id_activity) references Kind_activity(Id_activity);
commit; 


drop table Medical_record;
commit; 
create table Medical_records (
Id_file integer not null, 
Record_date date not null, 
Id_medical integer not null,
Doctor_name varchar(256) not null
); 
commit; 

create table Record (
Id_medical integer not null, 
Record_text varchar(256)
); 
commit; 


alter table Medical_records add constraint PK_Medical_records primary key(Id_file, Id_medical); 
alter table Record add constraint PK_Record primary key(Id_medical); 

alter table Medical_records add constraint FK_Medical_records1 foreign key (Id_file) references Personal_file (Id_file);
alter table Medical_records add constraint FK_Medical_records2 foreign key (Id_medical) references Record  (Id_medical);
commit; 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (1, 'Горшкова И.В.'	 , 	'1970-10-12', 'Санкт-Петербург, Ленинский проспект, д. 11' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (2, 'Дроздова О.О.'	 , 	'1971-11-21', 'Санкт-Петербург, ул. Пулковская	  , д. 1 ' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (3, 'Карпова Л.А. '	 , 	'1967-08-22', 'Санкт-Петербург, ул. Фрунзе	  , д. 21' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (4, 'Быкова Е.В.  '	 , 	'1967-02-02', 'Санкт-Петербург, ул. Гастелло      , д. 1 ' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (5, 'Зуева А.И.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 14' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (6, 'Панова Л.А.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 19' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (7, 'Елисеева И.Г.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 50' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (8, 'Большакова Ю.Н.',	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 1 ' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (9, 'Веселова Г.И.'	 , 	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 12' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (10, 'Трофимова А.А.' , 	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 15' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (11, 'Мухина М.А.' , 	'1970-10-12', 'Санкт-Петербург, ул. Победы	  , д. 18' ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (12, 'Воронова Г.В.' , 	'1990-07-04', 'Санкт-Петербург, ул. Варшавская	  , д. 3'  ); 
insert into Mother_info (Id_mother, Name, Birth_date, Registr_place) values (13, 'Юдина М.Д.'  , 	'1990-02-28', 'Санкт-Петербург, ул. Победы	  , д. 28' );

insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (1, 'Исаков Ю.А.'	 , 	'1970-10-12', 'Санкт-Петербург, Ленинский проспект, д. 11' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (2, 'Васильев В.О.'	 , 	'1971-11-21', 'Санкт-Петербург, ул. Пулковская	  , д. 1 ' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (3, 'Иванов И.А. '	 , 	'1967-08-22', 'Санкт-Петербург, ул. Фрунзе	  , д. 21' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (4, 'Пирогов А.С.  ' ,	'1967-02-02', 'Санкт-Петербург, ул. Гастелло      , д. 1 ' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (5, 'Журавлев М.Е.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 14' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (6, 'Давыдов С.Л.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 19' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (7, 'Бацуев Ф.Г.'	 , 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 50' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (8, 'Тихонов С.Н.',		'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 1 ' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (9, 'Королев М.А.'	 , 	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 12' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (10, 'Малахов Е.М.' , 	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 15' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (11, 'Федоров М.А.' , 	'1970-10-12', 'Санкт-Петербург, ул. Победы	  , д. 18' ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (12, 'Душутин П.В.' , 	'1990-07-04', 'Санкт-Петербург, ул. Варшавская	  , д. 3'  ); 
insert into Father_info (Id_father, Name, Birth_date, Registr_place) values (13, 'Муратов Ю.Д.'  , 	'1990-02-28', 'Санкт-Петербург, ул. Победы	  , д. 28' ); 

insert into Academic_place (Id_academic, Name, Address) values (1, 'SPBPU', 		'Санкт-Петербург, ул. Политехническая, д. 29'); 
insert into Academic_place (Id_academic, Name, Address) values (2, 'SPBBGTU', 	'Санкт-Петербург, ул. 1-я Красноармейская, д. 1');
insert into Academic_place (Id_academic, Name, Address) values (3, 'SPBGUAP', 		'Санкт-Петербург, ул. Большая Морская, д. 67');  
insert into Academic_place (Id_academic, Name, Address) values (4, 'SPBGU', 		'Санкт-Петербург, Университетская наб., д. 7');
insert into Academic_place (Id_academic, Name, Address) values (5, 'SPBGASU', 		'Санкт-Петербург, ул. 2-я Красноармейская, д. 4');  
insert into Academic_place (Id_academic, Name, Address) values (6, 'SPBAU', 		'Санкт-Петербург, Петербургское шоссе, д. 2');  

insert into Reasons (Id_reason, Reason_text) values (1, 'Delay University'); 
insert into Reasons (Id_reason, Reason_text) values (2, 'Delay Health'); 
insert into Reasons (Id_reason, Reason_text) values (3, 'Delay Family Condition'); 
insert into Reasons (Id_reason, Reason_text) values (4, 'Delay Work'); 
insert into Reasons (Id_reason, Reason_text) values (5, 'Delay Children'); 
insert into Reasons (Id_reason, Reason_text) values (6, 'For delete 1');
insert into Reasons (Id_reason, Reason_text) values (7, 'For delete 2');

insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (1, 'ISAKOV G.Y.'  	   ,	'1990-10-09', 'Санкт-Петербург, Ленинский проспект, д. 11' , 1, 1, 1);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (2, 'ISAKOV A.Y.'    ,	'1990-11-01', 'Санкт-Петербург, ул. Пулковская	  , д. 1 ' , 1, 1, 4);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (3, 'VASILIEV O.V.'  , 	'1990-01-12', 'Санкт-Петербург, ул. Фрунзе	  , д. 21' , 2, 2, 2);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (4, 'IVANOV I.I.'	, 	'1990-12-07', 'Санкт-Петербург, ул. Фрунзе	  , д. 28' , 3, 3, 2);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (5, 'PIROGOV С.А.'	, 	'1991-01-07', 'Санкт-Петербург, ул. Гастелло      , д. 1 ' , 4, 4, 2);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (6, 'JURAVLEV V.M.'	, 	'1990-03-28', 'Санкт-Петербург, пр. Космонавтов	  , д. 14' , 5, 5, 6);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (7, 'DAVIDOV I.C.'	, 	'1990-05-12', 'Санкт-Петербург, пр. Космонавтов	  , д. 19' , 6, 6, 3);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (8, 'BACUEV N.F.'	, 	'1990-02-22', 'Санкт-Петербург, пр. Космонавтов	  , д. 50' , 7, 7, 6);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (9, 'TIHONOV E.C.'	, 	'1990-09-28', 'Санкт-Петербург, ул. Победы	  , д. 1 ' , 8, 8, 3);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (10,'KOROLYOV V.M.'	, 	'1990-03-28', 'Санкт-Петербург, ул. Победы	  , д. 12' , 9, 9, 1);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (11,'KOROLYOV K.M.'	, 	'1990-03-29', 'Санкт-Петербург, ул. Победы	  , д. 12' , 9, 9, 4);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (12,'MALAHOV K.E.'	, 	'1990-05-14', 'Санкт-Петербург, ул. Победы	  , д. 15' , 10, 10, 5);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (13,'FEDOROV M.M.'	, 	'1990-01-04', 'Санкт-Петербург, ул. Победы	  , д. 18' , 11, 11, 2);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (14,'DUSHUTIN P.P.'	, 	'1990-07-04', 'Санкт-Петербург, ул. Варшавская	  , д. 3' , 12, 12, 3);
insert into Recruit (Id_recruit, Name, Birth_date, Registr_place, Id_mother, Id_father, Id_academic) values (15,'MURATOV D.Y.'	, 	'1990-02-28', 'Санкт-Петербург, ул. Победы	  , д. 28' , 13, 13, 6);

insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (100, 1,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (101, 2,  '2010-06-11'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (102, 3,  '2010-01-11'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (103, 4,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (104, 5,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (105, 6,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (106, 7,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (107, 8,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (108, 9,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (109, 10,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (110, 11,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (111, 12,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (112, 13,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (113, 14,  '2010-10-12'); 
insert into Personal_file  (Id_file, Id_recruit, Registr_date) values (114, 15,  '2010-10-12');

insert into Delays (Id_file, Id_reason, Delay_date_to) values (100, 1,'2014-10-12'); 	
insert into Delays (Id_file, Id_reason, Delay_date_to) values (101, 2,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (102, 1,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (103, 4,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (104, 5,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (105, 1,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (106, 2,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (107, 1,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (108, 4,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (109, 5,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (110, 1,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (111, 2,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (112, 4,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (113, 5,'2014-10-12'); 
insert into Delays (Id_file, Id_reason, Delay_date_to) values (114, 3,'2014-10-12');  

insert into Kind_activity (Id_activity, Kind_activity) values (1, 'Взятие справки'); 
insert into Kind_activity (Id_activity, Kind_activity) values (2, 'Медицинкое обследование'); 
insert into Kind_activity (Id_activity, Kind_activity) values (3, 'Получение отсрочки'); 
insert into Kind_activity (Id_activity, Kind_activity) values (4, 'Сборы 2015-01-01'); 
insert into Kind_activity (Id_activity, Kind_activity) values (5, 'Призыв в армию'); 
insert into Kind_activity (Id_activity, Kind_activity) values (6, 'Демобилизация'); 

insert into Activities (Id_file, Id_Activity, Activity_date) values (100, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (100, 5, '2013-04-23'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (100, 6, '2013-09-25'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (101, 2, '2013-09-24'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (101, 3, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (102, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (103, 1, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (103, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (103, 5, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (103, 4, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (104, 1, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (105, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (106, 3, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (107, 4, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (108, 5, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (109, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (110, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (111, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (112, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (113, 2, '2013-09-11'); 
insert into Activities (Id_file, Id_Activity, Activity_date) values (114, 2, '2013-09-11'); 
commit; 
    
    

